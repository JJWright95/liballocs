/* HACK */
OUTPUT_FORMAT(elf64-x86-64)
GROUP ( liballocs_dummyweaks.so liballocs_nonshared.a )

/* This is not quite right: we don't get the unwrapped 
 * "bare" symbol despite this attempt. */
/*__liballocs_bare_calloc = calloc;*/
/*__real_calloc = __real_calloc;*/
/* Our basic recipe is as follows. 
 * NOTE: this should really be done for every defined allocator, 
 * not just the malloc family, and be done by allocscc rather
 * than here in -lallocs. */
PROVIDE(__wrap___real_malloc = malloc);
malloc = __wrap___real_malloc;
PROVIDE(__wrap___real_calloc = calloc);
calloc = __wrap___real_calloc;
PROVIDE(__wrap___real_free = free);
free = __wrap___real_free;
PROVIDE(__wrap___real_realloc = realloc);
realloc = __wrap___real_realloc;
PROVIDE(__wrap___real_memalign = memalign);
memalign = __wrap___real_memalign;

